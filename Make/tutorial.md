#Linux下makefile

- 参考[跟我一起写 Makefile](http://blog.csdn.net/haoel/article/details/2886/)

- makefile关系到了整个工程的编译规则。一个工程中的源文件不计数，其按类型、功能、模块分别放在若干个目录中，makefile定义了一系列的规则来指定，哪些文件需要先编译，哪些文件需要后编译，哪些文件需要重新编译，甚至于进行更复杂的功能操作

- 编译时，**编译器**需要的是语法的正确，函数与变量声明的正确（只检测声明）；链接时，主要是链接函数和全局变量，链接器不管源文件，只管中间的目标文件（寻找函数显示）

- 大多时候，编译器的生成的中间文件，即目标文件太多，链接却要指出目标文件名，对于编译不方便。

- configure是一个shell脚本，一般用来生成Makefile，为下一步的编译做准备，在configure后加上参数来对安装进项控制。例如./configure --prefix=/usr 即将软件安装在/usr下面

- make，即编译，大多数的源代码包都要经过编译。如果make过程出现error，仔细研究错误代码

- make install，用这条命令进行安装

- = make会将整个makefile展开后，再决定变量的值，变量的值将会是整个makefile中最后被指定的值； :=表示变量的值决定于它在makefile中的位置，而不是整个makefile展开后的最终值。最好使用:=

- wildcard被展开为已经存在的、使用空格分开的、匹配此模式的所有文件列表，即搜索文件 

- include 暂停读取当前的 Makefile,而转去读取include指定的一个或者多个文件,完成以后再继续当前 Makefile 的读取。-include忽略文件不存在或者无法创建时的错误，make继续执行

- “$(sources:.c=.d)”中的“.c=.d”的意思是做一个替换，把变量$(sources)所有[.c]的字串都替换成[.d]